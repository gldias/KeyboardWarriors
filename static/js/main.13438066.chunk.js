(this["webpackJsonpkeyboard-warriors"]=this["webpackJsonpkeyboard-warriors"]||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/keyboardWarriorWhite.d6d9d913.png"},35:function(e,t,a){e.exports=a.p+"static/media/keyboardWarriors.f043fd9d.png"},45:function(e,t,a){e.exports=a.p+"static/media/badJob.81f452a9.png"},51:function(e,t,a){e.exports=a.p+"static/media/sun.2c8984b4.svg"},52:function(e,t,a){e.exports=a.p+"static/media/night.022dc3c0.svg"},54:function(e,t,a){e.exports=a(76)},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),i=a(21),l=a.n(i),c=(a(59),a(8)),o=a(9),d=a(11),m=a(10),u=a(7),h=a(12);a(60),a(61);!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.CURRENT=1]="CURRENT",e[e.UPCOMING=2]="UPCOMING"}(n||(n={}));var p=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleCopyAndPaste",value:function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation()}},{key:"render",value:function(){var e=this.props.state,t=s.a.createElement(s.a.Fragment,null);switch(e){case n.COMPLETE:t=s.a.createElement("div",null,s.a.createElement("s",null,this.props.text));break;case n.UPCOMING:t=s.a.createElement("div",{className:"greyed"},this.props.text);break;case n.CURRENT:var a,r="",i="",l=this.props,c=l.typedText,o=l.text;for(a=0;a<c.length;a++){if(c.charAt(a)!==o.charAt(a)){i=o.charAt(a),a++;break}r+=o.charAt(a)}t=s.a.createElement("div",{className:"orngBorder"},s.a.createElement("b",null,s.a.createElement("s",null,r),s.a.createElement("span",{className:" "===i?"redSpace":"red"},i),o.substring(a)))}return s.a.createElement("div",{onCopy:this.handleCopyAndPaste,onPaste:this.handleCopyAndPaste,className:"insult"},t)}}]),t}(s.a.Component),b=a(24),g=a(34),k=a(28);a(62);function f(e){var t=Math.floor(e/100);return Math.floor(t/60)+":"+("0"+t%60).slice(-2)+":"+("0"+10*Math.ceil(e%100/10)).slice(-2)}var E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={time:0,timeInMins:"0:00:00",interval:setInterval((function(){}),0)},a.init=a.init.bind(Object(u.a)(a)),a.tick=a.tick.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){this.setState({interval:setInterval(this.tick,10)})}},{key:"tick",value:function(){var e=this.state.time+1;this.setState({time:e,timeInMins:f(e)})}},{key:"stop",value:function(){clearInterval(this.state.interval)}},{key:"getTime",value:function(){return this.state.time}},{key:"getTimeString",value:function(){return this.state.timeInMins}},{key:"render",value:function(){return s.a.createElement("div",{className:"timer"},s.a.createElement("div",{className:"time "+(this.props.dark?"dark-timer":"")},this.state.timeInMins),s.a.createElement("div",{className:"timeLabel "+(this.props.dark?"dark-timer":"")},"Time Elapsed"))}}]),t}(s.a.Component),v=a(41),y=a(19),O=(a(63),a(45)),j=a.n(O),N=a(53),x=a(30),C=a(25),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={name:""},a.sendStats=a.sendStats.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleFormChange",value:function(e){var t=e.target.value;this.setState({name:t.substring(0,3).toUpperCase()})}},{key:"sendStats",value:function(){var e={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.state.name,speed:this.props.speed,"date string":(new Date).toLocaleDateString("en-US")})};fetch("/player",e)}},{key:"render",value:function(){var e=this;return s.a.createElement(v.a,{show:!0},s.a.createElement(v.a.Body,{className:this.props.dark?"dark-modal":""},s.a.createElement("img",{className:"finish",alt:"Try harder.",src:j.a}),s.a.createElement("h1",{className:"try-harder",tabIndex:1},"Try Harder."),s.a.createElement(b.a,{className:"results",tabIndex:1,"aria-label":"Speed: "+this.props.speed+"characters per second. Time: "+this.props.time},s.a.createElement(y.a,{xs:6},s.a.createElement("h4",{className:"result-column"},s.a.createElement("b",null,"Speed:")," ","".concat(this.props.speed," char/sec"))),s.a.createElement(y.a,{xs:6},s.a.createElement("h4",{className:"result-column"},s.a.createElement("b",null,"Time:")," ",this.props.time))),s.a.createElement(b.a,{className:"results"},s.a.createElement(y.a,{xs:6},s.a.createElement(N.a.Control,{className:this.props.dark?"dark-input":"",placeholder:"Name",onChange:function(t){return e.handleFormChange(t)},value:this.state.name})),s.a.createElement(y.a,{xs:6},s.a.createElement(C.b,{to:"/leaderboard",tabIndex:-1},s.a.createElement(x.a,{onClick:this.sendStats,variant:"primary",className:"submit-button"},"Ok"))))))}}]),t}(s.a.Component),T=a(26),S=a.n(T),M=(a(71),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e)))._timer=void 0,a.state={currentInsult:0,typedText:"",isFinished:!1},a._timer=s.a.createRef(),a.textChanged=a.textChanged.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"textChanged",value:function(e){var t=e.currentTarget.value,a=this.state.currentInsult;this.setState({typedText:t}),t===this.props.insults[a]&&(this.setState({currentInsult:a+1,typedText:""}),this.props.insults.length===a+1&&(this._timer.current.stop(),this.setState({isFinished:!0})))}},{key:"handleCopyAndPaste",value:function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation()}},{key:"render",value:function(){var e=this.state,t=e.currentInsult,a=e.typedText;return s.a.createElement("div",null,s.a.createElement(k.a,{bg:"dark",variant:"dark",tabIndex:-1},s.a.createElement(k.a.Brand,{href:"/KeyboardWarriors",tabIndex:1,"aria-label":"Back to home page"},s.a.createElement("img",{alt:"Keyboard Warriors",src:S.a,width:"30",height:"30",className:"d-inline-block align-top"})," ","Keyboard Warriors")),this.state.isFinished&&s.a.createElement(I,{time:this._timer.current.getTimeString(),dark:this.props.dark,speed:Number((this.props.insults.join().length/(this._timer.current.getTime()/100)).toFixed(2))}),s.a.createElement(g.a,{className:"typing-container"},s.a.createElement(E,{dark:this.props.dark,ref:this._timer}),this.props.insults.map((function(e,r){var i=r<t?n.COMPLETE:r===t?n.CURRENT:n.UPCOMING;return s.a.createElement(p,{key:e,text:e,state:i,typedText:a})})),s.a.createElement(b.a,{className:"justify-content-md-center input-box",tabIndex:-1},s.a.createElement("input",{autoFocus:!0,className:this.props.dark?"dark-input":"",onChange:this.textChanged,value:a,onCopy:this.handleCopyAndPaste,onPaste:this.handleCopyAndPaste,"aria-label":this.props.insults.toString(),tabIndex:1}))))}}]),t}(s.a.Component)),P=a(35),A=a.n(P),w=(a(72),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.title="Keyboard Warriors"}},{key:"render",value:function(){return s.a.createElement(g.a,{className:"landing-container "+(this.props.dark?"dark":""),tabIndex:1,"aria-label":"Keyboard Warriors landing page"},this.props.dark?s.a.createElement("img",{className:"logo",src:S.a,alt:"A white and orange helmet"}):s.a.createElement("img",{className:"logo",src:A.a,alt:"A black and orange helmet"}),s.a.createElement("h1",{className:"title"+(this.props.dark?" dark-text":""),"aria-label":"Keyboard Warriors"},"Keyboard Warriors"),s.a.createElement(b.a,{className:"justify-content-md-center button-row"},s.a.createElement(y.a,{xs:3,lg:2},s.a.createElement(C.b,{to:"/fight",tabIndex:-1},s.a.createElement(x.a,{className:"fight-button landing-button",variant:"primary","aria-label":"Fight"},"Fight!"))),s.a.createElement(y.a,{xs:{span:3,offset:1},lg:{span:2,offset:1}},s.a.createElement(C.b,{to:"/leaderboard",tabIndex:-1},s.a.createElement(x.a,{className:"leaderboard-button landing-button",variant:"primary","aria-label":"Leader board"},"Leaderboard")))))}}]),t}(s.a.Component)),W=(a(73),a(49)),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={records:[]},a.generateLeaderboard=a.generateLeaderboard.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/leaderboard").then((function(e){return e.json()})).then((function(t){e.setState({records:t.Player})}))}},{key:"generateLeaderboard",value:function(){return this.state.records.map((function(e,t){var a="Rank "+(t+1)+". Initials "+e.name+". Speed "+e.speed+" characters per second";return s.a.createElement("tr",{key:e.name+e.speed,tabIndex:1,"aria-label":a},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.speed+" char/sec"))}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"leaderboard-container",tabIndex:1,"aria-label":"Leader board"},s.a.createElement("h2",{className:"leaderboard-title"},"Leaderboard"),s.a.createElement("div",{className:"leaderboard-table"},s.a.createElement(W.a,{className:this.props.dark?"dark-table":"",borderless:!0,striped:!0,responsive:"sm"},s.a.createElement("thead",{tabIndex:1,"aria-label":"Rank, initials, and typing speed"},s.a.createElement("tr",null,s.a.createElement("th",null,"Rank"),s.a.createElement("th",null,"Initials"),s.a.createElement("th",null,"Speed"))),s.a.createElement("tbody",null,this.generateLeaderboard()))))}}]),t}(s.a.Component),K=a(50),R=(a(74),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentWillUpdate",value:function(e,t,a){this.props.dark!==e.dark&&this.forceUpdate()}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.dark?"dark":""},s.a.createElement(k.a,{bg:"dark",variant:"dark",tabIndex:-1},s.a.createElement(k.a.Brand,{href:"/KeyboardWarriors",tabIndex:1,"aria-label":"Back to home page"},s.a.createElement("img",{alt:"Keyboard Warriors",src:S.a,width:"30",height:"30",className:"d-inline-block align-top"})," ","Keyboard Warriors")),s.a.createElement("div",{className:"leaderboard-page-content"},s.a.createElement(K.a,{className:"background-logo",src:this.props.dark?S.a:A.a,alt:"A black and orange helmet"}),s.a.createElement(L,{dark:this.props.dark})))}}]),t}(s.a.Component)),U=a(51),F=a.n(U),D=a(52),B=a.n(D),_=a(22),G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={testState:"save",insults:[],dark:!!localStorage.getItem("darkMode")&&"true"===localStorage.getItem("darkMode")},a.toggleTheme=a.toggleTheme.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/insults").then((function(e){return e.json()})).then((function(t){e.setState({insults:t})}))}},{key:"toggleTheme",value:function(e){var t=this;e.preventDefault(),this.setState({dark:!this.state.dark},(function(){localStorage.setItem("darkMode",t.state.dark?"true":"false")}))}},{key:"render",value:function(){return s.a.createElement("div",{className:this.state.dark?"App dark":"App"},s.a.createElement("header",{className:"App-header"}),s.a.createElement(C.a,{basename:"/KeyboardWarriors"},s.a.createElement(_.c,null,s.a.createElement(_.a,{exact:!0,path:"/"},s.a.createElement(w,{dark:this.state.dark})),s.a.createElement(_.a,{exact:!0,path:"/fight"},s.a.createElement(M,{dark:this.state.dark,insults:this.state.insults})),s.a.createElement(_.a,{exact:!0,path:"/leaderboard"},s.a.createElement(R,{dark:this.state.dark})))),this.state.dark?s.a.createElement("img",{className:"mode-toggle dark",onClick:this.toggleTheme,onKeyPress:this.toggleTheme,src:F.a,alt:"A sun",tabIndex:1,"aria-label":"Toggle for light mode"}):s.a.createElement("img",{className:"mode-toggle",onClick:this.toggleTheme,onKeyPress:this.toggleTheme,src:B.a,alt:"A cloudy moon",tabIndex:1,"aria-label":"Toggle for dark mode"}))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(75);l.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.13438066.chunk.js.map